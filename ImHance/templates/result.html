<!DOCTYPE html>
<html>

<head>
  <title>Image Converter - Result</title>
  {% load static %}
  {% load bootstrap5 %}
  {% bootstrap_css %}
  {% bootstrap_javascript %}
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Montserrat', sans-serif;
      background-image: url("https://www.transparenttextures.com/patterns/crossword.png");
      background-attachment: fixed;
      background-size: cover;
    }

    .navbar {
      background-color: #34495e;
    }

    .navbar-brand {
      color: #ecf0f1;
    }

    .navbar-brand:hover {
      color: #bdc3c7;
      text-decoration: none;
    }

    h2 {
      color: #34495e;
      text-shadow: 2px 2px 2px rgba(0, 0, 0, 0.1);
    }

    .image-container {
      width: 800px;
      height: 600px;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      position: relative;
      border: 3px solid #34495e;
      border-radius: 5px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      background-color: #ecf0f1;
    }

    .image-container img {
      max-width: 100%;
      max-height: 100%;
      position: absolute;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
    }

    .image-container img.loaded {
      opacity: 1;
    }

    .spinner {
      display: none;
      position: absolute;
    }

    .btn-primary {
      background-color: #34495e;
      border-color: #34495e;
      transition: background-color 0.3s, border-color 0.3s;
    }

    .btn-primary:hover {
      background-color: #2c3e50;
      border-color: #2c3e50;
    }
  </style>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const spinner = document.getElementById("spinner");
      const image = document.getElementById("enhanced-image");
      spinner.style.display = "block";
      image.onload = function () {
        spinner.style.display = "none";
        image.classList.add("loaded");
      };
      image.src = "{% static 'output.png' %}";
    });
  </script>
</head>

<body>
  <nav class="navbar navbar-expand-lg">
    <a href="/" class="navbar-brand">ImHance</a>
  </nav>
  <div class="container d-flex justify-content-center mt-4">
    <h2>Enhanced Image:</h2>
  </div>
  <div class="container d-flex justify-content-center mt-4">
    <div class="image-container">
      <img id="enhanced-image" alt="Enhanced Image">
      <div class="spinner-border" role="status" id="spinner">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  </div>
  <div class="container d-flex justify-content-center mt-4">
    <a href="{% static 'output.png' %}" download="enhanced_image.png" class="btn btn-primary">Download Enhanced
      Image</a>
  </div>
</body>

</html>